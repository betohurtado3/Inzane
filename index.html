<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Inzane â€” Carousel (step 1)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <nav>
      <div class="logo">
        <p>Inzane</p>
      </div>
    </nav>

    <section class="hero">
      <div class="gradient-canvas" aria-hidden="true"></div>

      <!-- ðŸŽµ Card Principal -->
      <div class="songs-container">
        <div class="glass-card" role="region" aria-label="Canciones destacadas">
          <div class="card-header">
            <h2>Canciones Destacadas</h2>
          </div>

          <div class="card-body">
            <!-- ðŸŽ  Desktop carousel -->
            <div class="carousel" id="mainCarousel">
              <div class="carousel-track-container">
                <ul class="carousel-track" role="list">
                  <li class="carousel-slide" role="listitem">
                    <div class="slide-placeholder">
                      <img
                        src="public/logo.png"
                        alt="Logo (bat image)"
                        style="max-width: 900px"
                      />
                    </div>
                  </li>

                  <li class="carousel-slide" role="listitem">
                    <div class="songs-list">
                      <div class="song-row">
                        <img
                          src="/img/Portadas/Kickflip.png"
                          alt="Cover"
                          class="song-cover"
                        />
                        <div class="song-info">
                          <h3 class="song-title">Kickflip</h3>
                          <p class="song-artist">Inzane, Kbk</p>
                        </div>
                        <span class="song-duration">3:45</span>
                        <div class="song-actions">
                          <a
                            href="#"
                            class="btn-icon youtube"
                            aria-label="Listen on YouTube"
                            >â–¶</a
                          >
                          <a
                            href="#"
                            class="btn-icon spotify"
                            aria-label="Listen on Spotify"
                            >â™ª</a
                          >
                        </div>
                      </div>

                      <div class="song-row">
                        <img
                          src="/img/Portadas/Bars.png"
                          alt="Cover"
                          class="song-cover"
                        />
                        <div class="song-info">
                          <h3 class="song-title">Bars V</h3>
                          <p class="song-artist">Inzane, Kbk, Lil P</p>
                        </div>
                        <span class="song-duration">2:49</span>
                        <div class="song-actions">
                          <a
                            href="#"
                            class="btn-icon youtube"
                            aria-label="Listen on YouTube"
                            >â–¶</a
                          >
                          <a
                            href="#"
                            class="btn-icon spotify"
                            aria-label="Listen on Spotify"
                            >â™ª</a
                          >
                        </div>
                      </div>
                    </div>
                  </li>

                  <li class="carousel-slide" role="listitem">
                    <div class="socials-container">
                      <a
                        href="https://instagram.com"
                        target="_blank"
                        class="social-btn instagram"
                        aria-label="Instagram"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 448 512"
                        >
                          <path
                            fill="currentColor"
                            d="M224,202a53,53,0,1,0,53,53A53,53,0,0,0,224,202Zm124.71-41a54,54,0,0,0-30.18-30.18c-20.88-8.36-70.47-6.47-94.53-6.47s-73.65-1.9-94.53,6.47a54,54,0,0,0-30.18,30.18c-8.36,20.88-6.47,70.47-6.47,94.53s-1.9,73.65,6.47,94.53a54,54,0,0,0,30.18,30.18c20.88,8.36,70.47,6.47,94.53,6.47s73.65,1.9,94.53-6.47a54,54,0,0,0,30.18-30.18c8.36-20.88,6.47-70.47,6.47-94.53S357.07,181.92,348.71,161ZM224,338a90,90,0,1,1,90-90A90,90,0,0,1,224,338Zm93.5-162.3a21,21,0,1,1,21-21A21,21,0,0,1,317.5,175.7Z"
                          />
                        </svg>
                      </a>

                      <a
                        href="https://youtube.com"
                        target="_blank"
                        class="social-btn youtube"
                        aria-label="YouTube"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 576 512"
                        >
                          <path
                            fill="currentColor"
                            d="M549.65 124.08c-6.28-23.62-24.82-42.16-48.43-48.43C456.18 64 288 64 288 64S119.82 64 74.78 75.65c-23.62 6.28-42.16 24.82-48.43 48.43C14 169.12 14 256 14 256s0 86.88 12.35 131.92c6.28 23.62 24.82 42.16 48.43 48.43C119.82 448 288 448 288 448s168.18 0 213.22-11.65c23.62-6.28 42.16-24.82 48.43-48.43C562 342.88 562 256 562 256s0-86.88-12.35-131.92zM232 336V176l142 80-142 80z"
                          />
                        </svg>
                      </a>

                      <a
                        href="https://spotify.com"
                        target="_blank"
                        class="social-btn spotify"
                        aria-label="Spotify"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 496 512"
                        >
                          <path
                            fill="currentColor"
                            d="M248 8C111.03 8 0 119.03 0 256c0 136.97 111.03 248 248 248 136.97 0 248-111.03 248-248C496 119.03 384.97 8 248 8zm100.7 364.3c-4.2 6.9-13.1 9-20 4.8-54.6-33.4-123.4-41-204.3-22.6-7.8 1.8-15.8-3.1-17.6-11-1.8-7.8 3.1-15.8 11-17.6 88.3-20.4 165.7-11.7 227.4 25.4 6.8 4.1 9 13.1 4.5 21.0zm28.6-61.4c-5.4 8.9-16.9 11.6-25.8 6.3-62.5-38-157.8-49.1-231.9-27-9.5 2.7-19.7-2.6-22.4-12.1-2.7-9.5 2.6-19.7 12.1-22.4 83.9-24.3 188.6-12.2 260.6 30.6 8.8 5.3 11.6 16.9 6.2 25.8zm2.2-65.7c-71.1-42.4-189-46.2-257.1-25.4-11 3.4-22.9-2.7-26.3-13.8-3.4-11 2.7-22.9 13.8-26.3 77.3-24.2 205.8-20.3 287.6 28.1 10 6 13.3 19.1 7.3 29.1-6 10.1-19.1 13.4-29.1 7.3z"
                          />
                        </svg>
                      </a>
                    </div>
                  </li>
                </ul>
              </div>
              <!-- arrows -->
              <button class="carousel-button prev" aria-label="Previous slide">
                â—€
              </button>
              <button class="carousel-button next" aria-label="Next slide">
                â–¶
              </button>
              <!-- dots -->
              <div class="carousel-nav"></div>
            </div>
          </div>

          <!-- ðŸ“± Mobile stacked cards -->
          <div class="mobile-cards">
            <div class="mobile-card logo-card">
              <div class="slide-placeholder">
                <img
                  src="public/logo.png"
                  alt="Logo (bat image)"
                  style="max-width: 500px"
                />
              </div>
            </div>
            <div class="mobile-card songs-card">
              <div class="songs-list">
                <div class="song-row">
                  <img
                    src="/img/Portadas/Kickflip.png"
                    alt="Cover"
                    class="song-cover"
                  />
                  <div class="song-info">
                    <h3 class="song-title">Song Title</h3>
                    <p class="song-artist">Artist Name</p>
                    <span class="song-duration">3:45</span>
                    <div class="song-actions">
                      <a
                        href="#"
                        class="btn-icon youtube"
                        aria-label="Listen on YouTube"
                        >â–¶</a
                      >
                      <a
                        href="#"
                        class="btn-icon spotify"
                        aria-label="Listen on Spotify"
                        >â™ª</a
                      >
                    </div>
                  </div>
                </div>

                <div class="song-row">
                  <img
                    src="/img/Portadas/Bars.png"
                    alt="Cover"
                    class="song-cover"
                  />
                  <div class="song-info">
                    <h3 class="song-title">Another Song</h3>
                    <p class="song-artist">Artist Name</p>
                    <span class="song-duration">4:10</span>
                    <div class="song-actions">
                      <a
                        href="#"
                        class="btn-icon youtube"
                        aria-label="Listen on YouTube"
                        >â–¶</a
                      >
                      <a
                        href="#"
                        class="btn-icon spotify"
                        aria-label="Listen on Spotify"
                        >â™ª</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="mobile-card socials-card">
              <div class="socials-container">
                <a
                  href="https://instagram.com"
                  target="_blank"
                  class="social-btn instagram"
                  aria-label="Instagram"
                  >IG</a
                >
                <a
                  href="https://youtube.com"
                  target="_blank"
                  class="social-btn youtube"
                  aria-label="YouTube"
                  >YT</a
                >
                <a
                  href="https://spotify.com"
                  target="_blank"
                  class="social-btn spotify"
                  aria-label="Spotify"
                  >SP</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script type="module" src="/shaders.js"></script>
    <script type="module" src="/script.js"></script>

    <script>
      (function () {
        const carousel = document.getElementById("mainCarousel");
        if (!carousel) return;

        const trackContainer = carousel.querySelector(
          ".carousel-track-container"
        );
        const track = carousel.querySelector(".carousel-track");
        const slides = Array.from(track.children);
        const prevBtn = carousel.querySelector(".carousel-button.prev");
        const nextBtn = carousel.querySelector(".carousel-button.next");
        const nav = carousel.querySelector(".carousel-nav");
        let index = 0;
        let isDragging = false;
        let startX = 0;
        const threshold = 50;

        nav.innerHTML = "";
        slides.forEach((_, i) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = "carousel-indicator";
          btn.setAttribute("aria-label", `Go to slide ${i + 1}`);
          btn.addEventListener("click", () => {
            index = i;
            update();
          });
          nav.appendChild(btn);
        });
        const indicators = Array.from(nav.children);

        function update() {
          const w = trackContainer.clientWidth;
          track.style.transform = `translateX(-${index * w}px)`;
          slides.forEach((s, i) => s.setAttribute("aria-hidden", i !== index));
          indicators.forEach((b, i) =>
            b.classList.toggle("active", i === index)
          );
          prevBtn.disabled = index === 0;
          nextBtn.disabled = index === slides.length - 1;
        }

        prevBtn.addEventListener("click", () => {
          if (index > 0) {
            index--;
            update();
          }
        });
        nextBtn.addEventListener("click", () => {
          if (index < slides.length - 1) {
            index++;
            update();
          }
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowRight") nextBtn.click();
          if (e.key === "ArrowLeft") prevBtn.click();
        });

        let startPos = 0;
        trackContainer.addEventListener(
          "touchstart",
          (e) => {
            startPos = e.touches[0].clientX;
          },
          { passive: true }
        );
        trackContainer.addEventListener("touchend", (e) => {
          const endX =
            (e.changedTouches && e.changedTouches[0].clientX) || startPos;
          const dx = endX - startPos;
          if (Math.abs(dx) > threshold) {
            if (dx < 0 && index < slides.length - 1) index++;
            if (dx > 0 && index > 0) index--;
          }
          update();
        });

        trackContainer.addEventListener("mousedown", (e) => {
          isDragging = true;
          startX = e.clientX;
        });
        window.addEventListener("mouseup", (e) => {
          if (!isDragging) return;
          isDragging = false;
          const dx = e.clientX - startX;
          if (Math.abs(dx) > threshold) {
            if (dx < 0 && index < slides.length - 1) index++;
            if (dx > 0 && index > 0) index--;
          }
          update();
        });

        window.addEventListener("resize", update);
        update();
      })();
    </script>
  </body>
</html>
